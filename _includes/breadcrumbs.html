{% comment %} Local variables for breadcrumbs to ensure scope isolation and
correctness {% endcomment %} {% if page.url contains '/en/' or page.url == '/en'
or page.url == '/en/' %} {% assign current_lang = 'en' %} {% assign
current_prefix = '/en' %} {% else %} {% assign current_lang = 'zh' %} {% assign
current_prefix = '' %} {% endif %} {% assign strings =
site.data.locales[current_lang] %} {% comment %} Hide on homepage {% endcomment
%} {% unless page.url == '/' or page.url == '/en' or page.url == '/en/' %}
<nav class="breadcrumbs" aria-label="Breadcrumb">
  <ol class="breadcrumbs-list">
    <li class="breadcrumbs-item">
      <a href="{{ site.baseurl }}{{ current_prefix }}/"
        >{{ strings.nav.home }}</a
      >
    </li>

    {% comment %} Determine category based on path or layout {% endcomment %} {%
    assign show_current = true %} {% if page.url contains '/packages/' %} {% if
    page.layout == 'package' %}
    <li class="breadcrumbs-item">
      <a href="{{ site.baseurl }}{{ current_prefix }}/packages/"
        >{{ strings.nav.packages }}</a
      >
    </li>
    {% else %}
    <li class="breadcrumbs-item current" aria-current="page">
      {{ strings.nav.packages }}
    </li>
    {% assign show_current = false %} {% endif %} {% elsif page.url contains
    '/destinations/' %} {% if page.layout == 'destination' %}
    <li class="breadcrumbs-item">
      <a href="{{ site.baseurl }}{{ current_prefix }}/destinations/"
        >{{ strings.nav.destinations }}</a
      >
    </li>
    {% else %}
    <li class="breadcrumbs-item current" aria-current="page">
      {{ strings.nav.destinations }}
    </li>
    {% assign show_current = false %} {% endif %} {% elsif page.url contains
    '/wildlife/' %} {% if page.layout == 'wildlife' %}
    <li class="breadcrumbs-item">
      <a href="{{ site.baseurl }}{{ current_prefix }}/wildlife/"
        >{{ strings.nav.wildlife }}</a
      >
    </li>
    {% else %}
    <li class="breadcrumbs-item current" aria-current="page">
      {{ strings.nav.wildlife }}
    </li>
    {% assign show_current = false %} {% endif %} {% elsif page.url contains
    '/hotels/' %} {% if page.layout == 'hotel' %}
    <li class="breadcrumbs-item">
      <a href="{{ site.baseurl }}{{ current_prefix }}/hotels/"
        >{{ strings.nav.hotels }}</a
      >
    </li>
    {% else %}
    <li class="breadcrumbs-item current" aria-current="page">
      {{ strings.nav.hotels }}
    </li>
    {% assign show_current = false %} {% endif %} {% elsif page.url contains
    '/blogs/' %} {% if page.layout == 'blog' %}
    <li class="breadcrumbs-item">
      <a href="{{ site.baseurl }}{{ current_prefix }}/blogs/"
        >{{ strings.nav.blogs }}</a
      >
    </li>
    {% else %}
    <li class="breadcrumbs-item current" aria-current="page">
      {{ strings.nav.blogs }}
    </li>
    {% assign show_current = false %} {% endif %} {% elsif page.url contains
    '/about/' or page.url == '/about' or page.url == '/en/about' or page.url ==
    '/en/about/' %}
    <li class="breadcrumbs-item current" aria-current="page">
      {{ strings.nav.about }}
    </li>
    {% assign show_current = false %} {% elsif page.url contains '/contact/' or
    page.url == '/contact' or page.url == '/en/contact' or page.url ==
    '/en/contact/' %}
    <li class="breadcrumbs-item current" aria-current="page">
      {{ strings.nav.contact }}
    </li>
    {% assign show_current = false %} {% endif %} {% if show_current %}
    <li class="breadcrumbs-item current" aria-current="page">
      {% if page.layout == 'wildlife' %} {% if current_lang == 'en' %}{{
      page.title_en }}{% else %}{{ page.title_cn }}{% endif %} {% else %} {{
      page.title }} {% endif %}
    </li>
    {% endif %}
  </ol>
</nav>
{% endunless %}

<style>
  .breadcrumbs {
    padding: 10px 0;
    margin-bottom: 20px;
    border-bottom: 1px solid #30363d;
  }

  .breadcrumbs-list {
    display: flex;
    list-style: none;
    margin: 0;
    padding: 0;
    flex-wrap: wrap;
    gap: 5px;
  }

  .breadcrumbs-item {
    display: flex;
    font-size: 11px;
    color: #8b949e;
    align-items: center;
  }

  .breadcrumbs-item:not(:last-child)::after {
    content: "â€º";
    margin-left: 8px;
    margin-right: 3px;
    color: #30363d;
  }

  .breadcrumbs-item a {
    color: #58a6ff;
    text-decoration: none;
  }

  .breadcrumbs-item a:hover {
    text-decoration: underline;
  }

  .breadcrumbs-item.current {
    color: #c9d1d9;
  }

  @media (max-width: 768px) {
    .breadcrumbs {
      padding: 8px 0;
    }

    .breadcrumbs-list {
      font-size: 10px;
    }
  }
</style>
