{% if page.url contains '/en/' or page.url == '/en' or page.url == '/en/' %} {%
assign current_lang = 'en' %} {% assign prefix = '/en' %} {% else %} {% assign
current_lang = 'zh' %} {% assign prefix = '' %} {% endif %} {% assign strings =
site.data.locales[current_lang] %}

<div class="destination-header">
  <h1 class="page-title">
    {{ page.title }} {% if current_lang == 'en' %} {% if page.title_cn %}<span
      class="english-title"
      >/ {{ page.title_cn }}</span
    >{% endif %} {% else %} {% if page.english_title %}<span
      class="english-title"
      >/ {{ page.english_title }}</span
    >{% endif %} {% endif %}
  </h1>
  <p class="destination-category">[{{ page.category }}]</p>
</div>

<div class="destination-grid">
  <aside class="destination-sidebar">
    <div class="fact-box">
      <h3>{{ strings.layout.destination_facts }}</h3>
      <ul class="fact-list">
        <li>
          <span class="fact-label">üìç {{ strings.layout.location }}:</span> {{
          page.location }}
        </li>
        <li>
          <span class="fact-label">üìÖ {{ strings.layout.best_season }}:</span>
          {{ page.best_time }}
        </li>
        <li>
          <span class="fact-label"
            >‚è≥ {{ strings.layout.recommended_days }}:</span
          >
          {{ page.recommended_days }}
        </li>
        <li>
          <span class="fact-label">üé´ {{ strings.layout.entry_fee }}:</span> {{
          page.entry_fee }}
        </li>
      </ul>
    </div>

    <div class="highlights-box">
      <h3>‚ú® {{ strings.layout.key_highlights }}</h3>
      <ul>
        {% for highlight in page.highlights %}
        <li>{{ highlight }}</li>
        {% endfor %}
      </ul>
    </div>

    {% if page.seasonal_info %}
    <div class="seasonal-box">
      <h3>üìÖ {{ strings.layout.seasonal_info }}</h3>
      <div class="seasonal-info">
        {% for season in page.seasonal_info %}
        <div class="season-item">
          <div class="season-name">{{ season.name }}</div>
          <div class="season-time">{{ season.time }}</div>
          <div class="season-description">{{ season.description }}</div>
        </div>
        {% endfor %}
      </div>
    </div>
    {% endif %}
  </aside>

  <main class="destination-content">{{ content }}</main>
</div>

<style>
  /* Scoped styles for destination pages */
  .english-title {
    color: #79c0ff;
    font-size: 0.8em;
    font-weight: normal;
  }

  .destination-grid {
    display: grid;
    grid-template-columns: 1fr 2fr;
    gap: 40px;
    margin-top: 30px;
  }

  @media (max-width: 768px) {
    .destination-grid {
      grid-template-columns: 1fr;
    }
  }

  .destination-sidebar h3 {
    color: #d2a8ff;
    border-bottom: 1px solid #30363d;
    padding-bottom: 10px;
    margin-bottom: 15px;
    font-size: 14px;
  }

  .fact-list {
    list-style: none;
    padding: 0;
    margin: 0;
  }

  .fact-list li {
    margin-bottom: 10px;
    color: #c9d1d9;
    font-size: 13px;
  }

  .fact-label {
    color: #8b949e;
    margin-right: 8px;
  }

  .highlights-box ul li {
    color: #ff7b72;
    margin-bottom: 8px;
    font-size: 13px;
  }

  .highlights-box ul li::before {
    content: "‚òÖ ";
    color: #e3b341;
  }

  .seasonal-box {
    background-color: #161b22;
    border: 1px solid #30363d;
    padding: 15px;
    margin-bottom: 15px;
    border-radius: 6px;
  }

  .seasonal-box h3 {
    color: #ff7b72;
    margin-bottom: 10px;
    font-size: 13px;
  }

  .seasonal-info {
    font-size: 12px;
  }

  .season-item {
    margin-bottom: 15px;
    padding-bottom: 15px;
    border-bottom: 1px solid #21262d;
  }

  .season-item:last-child {
    margin-bottom: 0;
    padding-bottom: 0;
    border-bottom: none;
  }

  .season-name {
    color: #ffa657;
    font-weight: bold;
    margin-bottom: 5px;
  }

  .season-time {
    color: #7ee787;
    font-size: 11px;
    margin-bottom: 5px;
  }

  .season-description {
    color: #8b949e;
    line-height: 1.5;
  }

  .destination-content p {
    color: #c9d1d9;
    font-size: 15px;
    line-height: 1.8;
    margin-bottom: 20px;
  }
</style>
